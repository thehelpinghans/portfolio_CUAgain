<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
	<link rel="stylesheet" th:href="@{/css/commons/common.css}">
	<style>
		#bus-station .info li{
			font-size: 8px;
			width: 150px;
		}

	</style>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
	<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=	022e1af6535b7180359a6f22f16fb181&libraries=services,clusterer,drawing"></script>
	<script>
		/*
		$(function(){
			$("form").submit(function(){
				event.preventDefault();//from action 무효화, a href 무효화
			});
		});
		*/
		function searchBusInfo(enent){
			event.preventDefault();
			var strSrch= $("#strSrch").val().trim();

			$.ajax({
				url:"/bus/search",
				//{name:value} -->name은 변수가 아님
				data:{strSrch:strSrch},
				success:function(result){
					$("#list-display").html(result);
				}
			});
		}

		function getStaionsByRouteList(el){
			var busRouteId=$(el).siblings(".busRouteId").val();
			$.ajax({
				url:`/bus/${busRouteId}`,
				success:function(result){
					$("#list-display").html(result);
				}
			});
		}

	</script>
</head>
<body>
<!--1. 버스번호검색 : 버스라우트id 획득과정-->
<!--2. 버스라우트id : 버스 정류장정보 획득-->
<!--3. 각각 정류장 위도 경도 정보를 배열로 저장-->
<!--4. 저장된 정류장배열을 kakao map 반영 정류장 위치를 마커로 표기 -->
<p>버스api</p>
<form  onsubmit="searchBusInfo(event)">
	<label>버스번호 입력</label>
	<input type="text" id="strSrch">
	<select id="routeType">
		<option value="1">공항버스</option>
		<option value="2">마을버스(초록)</option>
		<option value="3">간선버스(파랑)</option>
		<option value="4">지선버스(초록)</option>
		<option value="5">순환버스</option>
		<option value="6">광역버스</option>
		<option value="7">인천버스</option>
		<option value="8">경기버스</option>
	</select>
	<button>검색</button>
</form>
<div id="list-display" class="flex">

</div>
</body>
</html>